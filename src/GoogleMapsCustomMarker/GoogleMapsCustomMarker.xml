<?xml version="1.0" encoding="utf-8" ?>
<widget id="GoogleMapsCustomMarker.widget.GoogleMapsCustomMarker" needsEntityContext="false" xmlns="http://www.mendix.com/widget/1.0/">
  <name>Google Maps Custom Marker</name>
    <description>Google Maps Overview.</description>
    <icon>

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
	
	</icon>
    <properties>
        <property key="apiAccessKey" type="string" required="false">
            <caption>Maps API Access Key</caption>
            <category>Behavior</category>
            <description>The Google Maps JavaScript API v3 does not require an API key to function correctly. However, Google strongly encourages you to load the Maps API using an APIs Console key which allows you to monitor your application's Maps API usage.</description>
        </property>
        <property key="opacity" type="string" defaultValue="1.0" required="false">
            <caption>Opacity</caption>
            <category>Marker</category>
            <description>The marker's opacity between 0.0 and 1.0. The value 0.0 means completely opaque / not visible. Defaults to 1.0.</description> 
        </property>
		<property key="animationEnum" type="enumeration" required="true" defaultValue="DROP">
            <caption>Animation Mode</caption>
            <category>Marker</category>
            <description>Determines how the objects will be plotted on the map.</description>
			<enumerationValues>
				<enumerationValue key="DROP">Drop</enumerationValue>
				<enumerationValue key="BOUNCE">Bounce</enumerationValue>
				<enumerationValue key="NONE">None</enumerationValue>
			</enumerationValues>
		</property>
        <property key="enableMarkerClusterer" type="boolean" defaultValue="true">
            <caption>Enable Clustering</caption>
            <category>Marker</category>
            <description>Enable or disable the marker clustering when zooming out.</description> 
        </property>
		<property key="MCGridSize" type="integer" defaultValue="20">
            <caption>Grid Size</caption>
            <category>Marker</category>
            <description>Determines the maximum size of the grid shown.</description> 
        </property>
		<property key="MCMaxZoom" type="integer" defaultValue="18">
            <caption>Maximum Zoom</caption>
            <category>Marker</category>
            <description>Determines the maximum zoomed-in level at which clustering is done.</description> 
        </property>        
		<property key="toggleDraggingOpt" type="boolean" defaultValue="false">
            <caption>Toggle Dragging</caption>
            <category>Marker</category>
            <description>This decides whether an end-user will be able to toggle to draggable modus. By default a checkbox will be added below the map to toggle between draggable and non draggable modus.</description> 
        </property>   
		<property key="startTogglingChecked" type="boolean" defaultValue="false">
            <caption>Start Draggable</caption>
            <category>Marker</category>
            <description>If Toggle Dragging is enabled, with this setting set to Yes, the checkbox for toggling dragging will be set to Yes when first displaying the map. Only applicable when Toggle Dragging is set to Yes</description> 
        </property> 
		<property key="hideTogglingDiv" type="boolean" defaultValue="false">
            <caption>Hide Toggle Dragging</caption>
            <category>Marker</category>
            <description>When set to Yes, will hide the Toggle Dragging checkbox. Only applicable when Toggle Dragging is set to Yes and Start Draggable is set to Yes. </description> 
        </property>
		<property key="enableDraw" type="boolean" defaultValue="false">
            <caption>Enable Draw</caption>
            <category>Interaction</category>
            <description>This decides whether an extra drawingmanager will be available in the top of the map to toggle between drawing and dragging.</description> 
        </property> 
		<property key="enableSearch" type="boolean" defaultValue="false">
            <caption>Enable Search Box</caption>
            <category>Interaction</category>
            <description>This decides whether an extra Search Box with auto complete will be available in the map.</description> 
        </property> 
		<property key="searchBoxSize" type="integer" defaultValue="300">
            <caption>Search Box Size</caption>
            <category>Interaction</category>
            <description>(Only applicable when Search Box enabled) The size of the Search Box in px.</description> 
        </property> 
		<property key="searchBoxPlaceholder" type="string" defaultValue="Search Box">
            <caption>Search Box Placeholder</caption>
            <category>Interaction</category>
            <description>(Only applicable when Search Box enabled) The placeholder text to appear in the Search Box.</description> 
        </property> 
		<property key="disableInfoWindowDragend" type="boolean" defaultValue="false">
            <caption>Disable Infowindow Dragend</caption>
            <category>Interaction</category>
            <description>When set to 'Yes', no infowindow popup will be shown with the reverse geocoded address after dragging the marker. </description> 
        </property> 		
        <property key="mapEntity" type="entity" required="true" allowNonPersistableEntities="true">
            <caption>Objects</caption>
            <category>Data Source</category>
            <description>The objects to show on the map.</description>
        </property>
        <property key="xpathConstraint" type="entityConstraint" entityProperty="mapEntity" required="false">
            <caption>XPath Constraint</caption>
            <category>Data Source</category>
            <description>(Not applicable when using Get Objects Microflow) The XPath constraint on the objects.</description> 
        </property>
		<property key="getObjectsMF" type="microflow" required="false" entityProperty="getObjectsEntity">
			<caption>Get Objects Microflow</caption>
			<category>Data Source</category>
			<description>(Will overrule XPath) The microflow to retrieve the to be plotted objects with. Should have the Objects entity as output.</description>
			<returnType type="Object" isList="true" entityProperty="mapEntity"/>
		</property>
        <property key="getObjectsEntity" type="entity" required="false" allowNonPersistableEntities="true">
            <caption>Get Objects Context Entity</caption>
            <category>Data Source</category>
            <description>(Only Applicable if Get Objects MF is selected).</description>
        </property>
        <property key="gotocontext" type="boolean" defaultValue="false">
            <caption>Pan to context</caption>
            <category>Behavior</category>
            <description>If set to true, if the dataview object changes, the map will pan automatically to the accompanying marker. In this case, the widget will assume that the contextobject contains a lat and long attribute.</description>
        </property>
        <property key="markerDisplayAttr" type="attribute" required="false" entityProperty="mapEntity" isPath="optional" pathType="reference">
            <caption>Marker attribute</caption>
            <category>Data Source</category>
            <description>The attribute that will be displayed in the marker info bubble. (Not required)</description>
            <attributeTypes>
                <attributeType name="String"/> 
            </attributeTypes>
        </property>
        <property key="onClickMarkerMicroflow" type="microflow" required="false" defaultValue="" entityProperty="mapEntity">
            <caption>On Click Microflow</caption>
            <category>Interaction</category>
            <description>Microflow that will be executed when you click on a marker. Takes the entity of the Objects as input parameter</description>
            <returnType type="Void"></returnType>
        </property>
        <property key="onClickButttonLabel" type="string" defaultValue="Open">
            <caption>On Click Button Label</caption>
            <category>Interaction</category>
            <description>The label of the button to appear in the infowindow.</description> 
        </property>
        <property key="onClickButttonClass" type="string" defaultValue="btn mx-button">
            <caption>On Click Button Class</caption>
            <category>Interaction</category>
            <description>The classes on the button to appear in the infowindow. By default mendix default classes are added. Those can be stripped and/or your own class added.</description> 
        </property>
        <property key="disableInfoWindow" type="boolean" defaultValue="false">
            <caption>Disable infowindow on click</caption>
            <category>Interaction</category>
            <description>When set to true the on click microflow will directly be triggered in stead of via the infowindow.</description> 
        </property>
        <property key="infoWindowNameLabel" type="string" defaultValue="Name" required="false">
            <caption>Name Label</caption>
            <category>Interaction</category>
            <description>The label of the name popping up in the infowindow.</description> 
        </property>
        <property key="mapHeight" type="integer" defaultValue="350">
            <caption>Height</caption>
            <category>Appearance</category>
            <description>The map's height in px.</description> 
        </property>
        <property key="mapWidth" type="string" defaultValue="100%">
            <caption>Width</caption>
            <category>Appearance</category>
            <description>The map's width in px or percent.</description> 
        </property>
		<property key="borderColor" type="string" required="false" defaultValue="">
            <caption>Border Color</caption>
            <category>Appearance</category>
            <description>The border color around the Google Map.</description>
        </property>
        <property key="showLines" type="boolean" defaultValue="false">
            <caption>Show Lines</caption>
            <category>Lines</category>
            <description>If set to true, lines between markers will be shown.</description>
        </property>
        <property key="hideMarkers" type="boolean" defaultValue="false">
            <caption>Hide Markers</caption>
            <category>Lines</category>
            <description>If set to true only the line -no markers-  will be shown.</description>
        </property>
        <property key="lineColor" type="string" required="false" defaultValue="#0595db">
            <caption>Line Color</caption>
            <category>Lines</category>
            <description>The hexadecimal color of the lines</description>
        </property>
        <property key="lineThickness" type="integer" defaultValue="3">
            <caption>Line Thickness</caption>
            <category>Lines</category>
            <description>The thickness of the lines in pixels</description> 
        </property>
        <property key="lineOpacity" type="string" defaultValue="1.0">
            <caption>Line Opacity</caption>
            <category>Lines</category>
            <description>The lines' opacity between 0.0 and 1.0. The value 0.0 means completely opaque / not visible. Defaults to 1.0.</description> 
        </property>
        <property key="defaultLat" type="string" defaultValue="0.0">
            <caption>Default latitude</caption>
            <category>Behavior</category>
            <description>Default latitude for the map to start at.</description> 
        </property>
        <property key="defaultLng" type="string" defaultValue="0.0">
            <caption>Default longitude</caption>
            <category>Behavior</category>
            <description>Default longitude for the map to start at.</description> 
        </property>
        <property key="lowestZoom" type="integer" defaultValue="15">
            <caption>Single item zoom level</caption>
            <category>Behavior</category>
            <description>The zoom level used when displaying a single item. 1 is the whole world, 15 is city level, 20 is house level.</description> 
        </property>
        <property key="updateRefresh" type="boolean" defaultValue="false">
            <caption>Refresh on entity changes</caption>
            <category>Behavior</category>
            <description>This option refreshes all the markers when an object of the corresponding entity is changed/added/removed. This will retrieve the entire list of objects everytime and map them again. Be aware that this might give performance issues when mapping big amounts or mapping a frequently used entity.</description> 
        </property>
        <!-- Map CONTROLS -->
        <property key="opt_drag" type="boolean" defaultValue="true">
            <caption>Drag</caption>
            <category>Map controls</category>
            <description>Enable/disable dragging a map using the mouse</description>
        </property>
        <property key="opt_mapcontrol" type="boolean" defaultValue="true">
            <caption>Type</caption>
            <category>Map controls</category>
            <description>Enable/disable Map Type control</description>
        </property>
        <property key="opt_scroll" type="boolean" defaultValue="true">
            <caption>Scroll</caption>
            <category>Map controls</category>
            <description>Enable/disable using the scrollwheel to zoom in/out</description>
        </property>
        <property key="opt_streetview" type="boolean" defaultValue="true">
            <caption>Streetview</caption>
            <category>Map controls</category>
            <description>Enable/disable Streetview control</description>
        </property>
        <property key="opt_zoomcontrol" type="boolean" defaultValue="true">
            <caption>Zoom Control</caption>
            <category>Map controls</category>
            <description>Enable/disable Zoom control</description>
        </property>
        <property key="opt_tilt" type="enumeration" defaultValue="d0">
            <caption>Tilt</caption>
            <category>Map controls</category>
            <description>Angle of the map. This can be set to 45 degrees, if this is available for some locations and only when using type Satellite or Hybrid. It will automatically switch to 0 degrees if it is not available.</description>
            <enumerationValues>
                <enumerationValue key="d0">0</enumerationValue>
                <enumerationValue key="d45">45</enumerationValue>
            </enumerationValues>
        </property>
        <property key="defaultMapType" type="enumeration" defaultValue="ROADMAP">
            <caption>Maptype</caption>
            <category>Appearance</category>
            <description>Set the default map type</description>
            <enumerationValues>
                <enumerationValue key="ROADMAP">Roadmap</enumerationValue>
                <enumerationValue key="SATELLITE">Satellite</enumerationValue>
                <enumerationValue key="HYBRID">Hybrid</enumerationValue>
                <enumerationValue key="TERRAIN">Terrain</enumerationValue>
            </enumerationValues>
        </property>
        <!-- CUSTOMISATION -->
        <property key="styleArray" type="string" multiline="true" required="false">
            <caption>Style Array</caption>
            <category>Customisation</category>
            <description>Use this to add custom styles to your maps.</description>
        </property>
        <property key="latAttr" type="attribute" entityProperty="mapEntity" required="true" isPath="optional" pathType="reference">
            <caption>Latitude attribute</caption>
            <category>Data Source</category>
            <description>The latitude attribute.</description>
            <attributeTypes>
                <attributeType name="Integer"/>
                <attributeType name="Float"/>
				<attributeType name="Decimal"/>
				<attributeType name="String"/>
            </attributeTypes>
        </property>
        <property key="lngAttr" type="attribute" entityProperty="mapEntity" required="true" isPath="optional" pathType="reference">
            <caption>Longtitude attribute</caption>
            <category>Data Source</category>
            <description>The longtitude attribute.</description>
            <attributeTypes>
                <attributeType name="Integer"/>
                <attributeType name="Float"/>
				<attributeType name="Decimal"/>
				<attributeType name="String"/>
            </attributeTypes>
        </property>
		<property key="formattedAddressAttr" type="attribute" entityProperty="mapEntity" required="false" isPath="optional" pathType="reference">
            <caption>Formatted Address</caption>
            <category>Data Source</category>
            <description>The formatted addres, given back by the Google GeoCoder when dragging.</description> 
			<attributeTypes>
                <attributeType name="String"/>
            </attributeTypes>
        </property>
        <property key="enumAttr" type="attribute" entityProperty="mapEntity" required="false" isPath="optional" pathType="reference">
            <caption>Enum attribute</caption>
            <category>Appearance</category>
            <description>The enumeration for the marker images.</description>
            <attributeTypes>
                <attributeType name="Enum"/>
            </attributeTypes>
        </property>
		<property key="colorAttr" type="attribute" entityProperty="mapEntity" required="true" isPath="optional" pathType="reference">
            <caption>Object color</caption>
            <category>Data Source</category>
            <description>The hexadecimal color of the object. It should start with a '#'.</description> 
			<attributeTypes>
                <attributeType name="String"/>
            </attributeTypes>
        </property>
        <property key="defaultIcon" type="image" required="false">
            <caption>Default icon</caption>
            <category>Appearance</category>
            <description>The default image to use if no enumeration is available.</description>
        </property>
        <property key="markerImages" type="object" isList="true" required="false">
            <caption>Enum based marker images</caption>
            <category>Appearance</category>
            <description>Set images for the markers based on an enumeration.</description>
            <properties>
                <property key="enumKey" type="string">
                    <caption>Enum key</caption>
                    <category>Appearance</category>
                    <description>The enum key as string. (Does not recognize empty '' enum value. Use the default icon for these.)</description>
                </property>
                <property key="enumImage" type="image">
                    <caption>Image</caption>
                    <category>Appearance</category>
                    <description>The image for the enumeration key.</description>
                </property>
            </properties>
        </property>
        <property key="legendAttributes" type="object" isList="true" required="false">
            <caption>Legend Filling</caption>
            <category>Appearance</category>
            <description>Select the colors used in the legend. Not needed when Enum based marker images are used.</description>
            <properties>
                <property key="legendColor" type="string">
                    <caption>Legend Color</caption>
                    <category>Appearance</category>
                    <description>The color of the marker. Will show the marker in the shape chosen by Symbol setting.</description>
                </property>
                <property key="legendCaption" type="string">
                    <caption>Legend Caption</caption>
                    <category>Appearance</category>
                    <description>The caption for the legend entry.</description>
                </property>
            </properties>
        </property>
        <property key="enableLegend" type="boolean" defaultValue="false">
            <caption>Legend</caption>
            <category>Appearance</category>
            <description>Enable/disable a legend on the Google Map. If Enum based marker images are used, will use those, no need to fill the Legend Filling section. If the Color attribute is used, configure the Legend Filling below.</description>
        </property>		
		 <property key="markerSymbol" type="enumeration" required="true" defaultValue="MARKER">
            <caption>Symbol</caption>
            <category>Marker</category>
            <description>Determines which symbol for the marker is used.</description>
			<enumerationValues>
				<enumerationValue key="MARKER">Marker</enumerationValue>
				<enumerationValue key="CIRCLE">Circle</enumerationValue>
				<enumerationValue key="BACKWARD_CLOSED_ARROW">Backward closed arrow</enumerationValue>				
				<enumerationValue key="BACKWARD_OPEN_ARROW">Backward open arrow</enumerationValue>
				<enumerationValue key="FORWARD_CLOSED_ARROW">Forward closed arrow</enumerationValue>
				<enumerationValue key="FORWARD_OPEN_ARROW">Forward open arrow</enumerationValue>
				<enumerationValue key="STAR">Star</enumerationValue>
			</enumerationValues>
		</property>
		 <property key="markerSize" type="enumeration" required="true" defaultValue="M">
            <caption>Marker Size</caption>
            <category>Marker</category>
            <description>Determines the size of the symbol used to mark the location.</description>
			<enumerationValues>
				<enumerationValue key="XXS">XXS</enumerationValue>
				<enumerationValue key="XS">XS</enumerationValue>	
				<enumerationValue key="S">S</enumerationValue>
				<enumerationValue key="M">M</enumerationValue>			
				<enumerationValue key="L">L</enumerationValue>			
			</enumerationValues>
		</property>
        <property key="consoleLogging" type="boolean" defaultValue="false">
            <caption>Logging</caption>
            <category>Console</category>
            <description>For debugging purposes. 
			
			If set to true the widget will add a console.dir (whole object) and console.log (coordinates) for every object retrieved from the database. The results can be checked in the browser itself in the console tab.</description> 
        </property>
        <property key="showProgress" type="boolean" defaultValue="true">
            <caption>Show a progress bar when loading</caption>
            <category>Loader</category>
            <description>If the map has a lot of markers to load, it can appear unresponsive. This progress bar will tell the user it is loading the markers</description>
        </property>
        <property key="progressMessage" type="translatableString" required="false">
            <caption>Loading message</caption>
            <category>Loader</category>
            <description>The message that appears in the progress bar</description>
        </property>
    </properties>
</widget>

